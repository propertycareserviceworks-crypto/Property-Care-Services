<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snow Removal Service Form</title>
<style>
  body {
    font-family: 'Segoe UI', Arial, sans-serif;
    color: #1e293b;
    background: #f8fafc;
    padding: 30px;
  }
  form {
    background: #fff;
    max-width: 650px;
    margin: auto;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.08);
  }
  h2, h3 {
    text-align: center;
    color: #0f172a;
  }
  label {
    display: block;
    margin-top: 15px;
    font-weight: 500;
  }
  input[type="text"], input[type="email"], input[type="tel"], textarea, select {
    width: 100%;
    padding: 10px;
    margin-top: 5px;
    border-radius: 8px;
    border: 1px solid #cbd5e1;
  }
  input[type="radio"], input[type="checkbox"] {
    margin-right: 8px;
  }
  button {
    background-color: #0ea5e9;
    color: #fff;
    border: none;
    padding: 12px 25px;
    margin-top: 20px;
    border-radius: 8px;
    cursor: pointer;
    width: 100%;
    font-size: 16px;
  }
  button:hover {
    background-color: #0284c7;
  }
  .form-list {
    margin-top: 25px;
  }
</style>
</head>
<body>

<form id="snowForm" action="https://formsubmit.co/propertycareserviceworks@gmail.com" method="POST" enctype="multipart/form-data">

  <!-- Hidden FormSubmit fields -->
  <input type="hidden" name="_subject" value="New Snow Removal Request!">
  <input type="hidden" name="_template" value="table">
  <input type="hidden" name="_next" value="https://yourdomain.com/thank-you.html">
  <input type="hidden" name="_captcha" value="true">
  <input type="hidden" name="_cc" value="propertycareserviceworks@gmail.com">
  <input type="hidden" name="_honey" style="display:none">
  <input type="hidden" id="autoresponseField" name="_autoresponse" value="">
  <input type="hidden" name="message" id="message">

  <h2>Service Request Form</h2>

  <label for="name">Full Name</label>
  <input type="text" id="name" name="name" placeholder="Enter your name" required>

  <label for="email">Email</label>
  <input type="email" id="email" name="email" placeholder="Enter your email" required>

  <label for="phone">Phone Number</label>
  <input type="tel" id="phone" name="phone" placeholder="Enter your phone number" required>

  <label for="address">Address</label>
  <textarea id="address" name="address" rows="3" placeholder="Enter your address" required></textarea>

  <label for="location">Location</label>
  <select id="location" name="location" required>
    <option value="">-- Select Location --</option>
    <option value="Rosewood">Rosewood</option>
    <option value="Briarwood">Briarwood</option>
    <option value="Lakeridge">Lakeridge</option>
  </select>

  <div class="form-list">
    <h3>House Info</h3>
    <label><input type="radio" name="houseType" value="Lane House / Town House" required>Lane House / Town House</label>
    <label><input type="radio" name="houseType" value="Attached Garage">Attached Garage</label>
    <label><input type="radio" name="houseType" value="Acreage">Acreage</label>

    <h3>Service Type</h3>
    <label><input type="radio" name="serviceType" value="Basic" required>Basic</label>
    <label><input type="radio" name="serviceType" value="Premium">Premium</label>
    <label><input type="radio" name="serviceType" value="V.I.P">V.I.P</label>
  </div>

  <div class="form-list">
    <h3>Driveway Spaces</h3>
    <p>If you have a driveway, how many cars can it fit?</p>
    <select id="driveway" name="driveway">
      <option value="0">0</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
    </select>

    <h3>Clear Snow From These Areas</h3>
    <label><input type="checkbox" name="snowAreas[]" value="Front walks and steps">Front walks and steps</label>
    <label><input type="checkbox" name="snowAreas[]" value="Corner city sidewalk">Corner city sidewalk</label>
    <label><input type="checkbox" name="snowAreas[]" value="Back path">Back path</label>
    <label><input type="checkbox" name="snowAreas[]" value="Side path">Side path</label>
    <label><input type="checkbox" name="snowAreas[]" value="Deck or patio">Deck or patio</label>
    <label><input type="checkbox" name="snowAreas[]" value="Driveway apron/approach">Driveway apron/approach</label>
  </div>

  <button type="button" id="checkPriceBtn">Check Price</button>
</form>

<script>
document.getElementById('checkPriceBtn').addEventListener('click', function() {
  const name = document.getElementById('name').value.trim();
  const email = document.getElementById('email').value.trim();
  const phone = document.getElementById('phone').value.trim();
  const address = document.getElementById('address').value.trim();
  const location = document.getElementById('location').value;
  const houseType = document.querySelector('input[name="houseType"]:checked')?.value || '';
  const serviceType = document.querySelector('input[name="serviceType"]:checked')?.value || '';
  const driveway = document.getElementById('driveway').value;
  const snowAreas = Array.from(document.querySelectorAll('input[name="snowAreas[]"]:checked'))
                        .map(cb => cb.value).join(', ');

  if (!name || !email || !phone || !address || !location || !houseType || !serviceType) {
    alert('Please fill in all required fields.');
    return;
  }

  // Example price logic (you can replace this with your real one)
  let basePrice = 40;
  if (serviceType === 'Premium') basePrice = 60;
  if (serviceType === 'V.I.P') basePrice = 80;
  const total = basePrice + (parseInt(driveway) * 5);

  const summaryText = 
`üìç Location: ${location}
üè† House Type: ${houseType}
üßπ Service Type: ${serviceType}
üöó Driveway Spaces: ${driveway}
‚ùÑÔ∏è Areas to Clear: ${snowAreas || 'None selected'}
üí≤ Estimated Total: $${total}`;

  document.getElementById('message').value = summaryText;

  // Create autoresponse message
  const autoresponseText = 
`Hello ${name},

Thank you for reaching out to Property Care Service Works!
We‚Äôve received your snow removal request and will contact you soon.

Here‚Äôs your request summary:
------------------------------------
Name: ${name}
Phone: ${phone}
Address: ${address}

${summaryText}
------------------------------------

We appreciate your business!
- Property Care Service Works Team`;

  document.getElementById('autoresponseField').value = autoresponseText;

  alert("Price calculated and ready to submit!");
  document.getElementById('checkPriceBtn').textContent = "Submit Form";
  document.getElementById('checkPriceBtn').addEventListener('click', function() {
    document.getElementById('snowForm').submit();
  });
});
</script>

</body>
</html>
