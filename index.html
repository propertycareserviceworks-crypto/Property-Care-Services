<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Property Care Service Form</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
    color: #1e293b;
    line-height: 1.5;
    min-height: 100vh;
    position: relative;
    overflow-x: hidden;
    background: #f1f5f9;
  }

  .bg-video {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    object-fit: cover;
    z-index: -2;
  }

  .overlay {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(8px);
    z-index: -1;
  }

  .hamburger {
    position: fixed;
    top: 20px;
    right: 25px;
    width: 30px;
    height: 22px;
    cursor: pointer;
    z-index: 10;
  }

  .hamburger div {
    width: 100%;
    height: 4px;
    background-color: #1e293b;
    margin: 4px 0;
    border-radius: 2px;
    transition: 0.3s;
  }

  .menu {
    position: fixed;
    top: 0; right: -220px;
    width: 200px;
    height: 100%;
    background: rgba(255,255,255,0.95);
    box-shadow: -2px 0 10px rgba(0,0,0,0.1);
    padding: 60px 20px;
    display: flex;
    flex-direction: column;
    transition: 0.3s ease;
    z-index: 9;
  }

  .menu a {
    text-decoration: none;
    color: #1e293b;
    margin: 10px 0;
    font-weight: 500;
    cursor: pointer;
  }

  .menu.show { right: 0; }

  .container {
    max-width: 650px;
    margin: 120px auto 50px;
    background: rgba(255, 255, 255, 0.85);
    border-radius: 20px;
    padding: 30px 40px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.15);
    backdrop-filter: blur(20px);
  }

  h3 { color: #1e3a8a; margin-top: 25px; }

  input[type="text"], input[type="email"], input[type="tel"], select, textarea {
    width: 100%;
    padding: 10px 14px;
    margin: 8px 0 16px;
    border: 1px solid #cbd5e1;
    border-radius: 10px;
    font-size: 15px;
    transition: all 0.2s ease;
  }

  select { 
    max-height: 120px; 
    overflow-y: auto; 
  }

  input:focus, select:focus, textarea:focus {
    border-color: #2563eb;
    outline: none;
    box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.3);
  }

  label { display: block; margin-top: 10px; cursor: pointer; }

  button {
    background: linear-gradient(135deg, #2563eb, #1e40af);
    color: white;
    border: none;
    border-radius: 12px;
    padding: 12px 20px;
    width: 100%;
    font-size: 16px;
    margin-top: 25px;
    cursor: pointer;
    transition: 0.3s;
  }

  button:hover {
    background: linear-gradient(135deg, #1d4ed8, #1e3a8a);
    transform: scale(1.02);
  }

  table {
    border-collapse: collapse;
    width: 100%;
    margin-top: 10px;
    border-radius: 8px;
    overflow: hidden;
  }

  th, td {
    border: 1px solid #cbd5e1;
    padding: 10px;
    text-align: left;
  }

  th {
    background-color: #eff6ff;
    color: #1e40af;
  }

  #priceDisplay {
    margin-top: 15px;
    font-weight: bold;
    color: #1E40AF;
    overflow-x: auto;
  }

  #serviceDetailsDisplay {
    margin-top: 10px;
    color: #334155;
  }

  .welcome-box {
    text-align: center;
    margin-top: 80px;
  }

  .modal-image, .welcome-image {
    width: 100%;
    max-width: 800px;
    height: auto;
    display: block;
    margin: 0 auto 20px auto;
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.3);
  }

  .modal {
    display: none;
    position: fixed;
    z-index: 20;
    left: 0; top: 0;
    width: 100%; height: 100%;
    overflow: auto;
    background: rgba(0,0,0,0.5);
  }

  .modal-content {
    background: #fff;
    margin: 10% auto;
    padding: 20px;
    border-radius: 12px;
    max-width: 500px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.3);
    animation: fadeIn 0.3s ease;
  }

  .close {
    color: #1e40af;
    float: right;
    font-size: 24px;
    cursor: pointer;
  }

  @keyframes fadeIn {
    from {opacity: 0; transform: translateY(-20px);}
    to {opacity: 1; transform: translateY(0);}
  }

  @media (max-width: 700px){
    .container { margin: 140px 20px 50px; padding: 20px; }
  }
</style>
</head>
<body>

<video class="bg-video" autoplay muted loop playsinline>
  <source src="https://ik.imagekit.io/uiffzsgnp/istockphoto-1470507283-640_adpp_is.mp4" type="video/mp4">
</video>
<div class="overlay"></div>

<div class="hamburger" onclick="toggleMenu()">
  <div></div><div></div><div></div>
</div>
<div class="menu" id="menu">
  <a onclick="openModal('aboutModal')">About</a>
  <a onclick="openModal('servicesModal')">Services</a>
  <a onclick="openModal('contactModal')">Contact</a>
</div>

<!-- About Modal -->
<div id="aboutModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('aboutModal')">&times;</span>
    <img src="https://i.postimg.cc/WzBpPj8y/wnt-1-Made-with-Poster-My-Wall.jpg" alt="About Us" class="modal-image">
    <h2>About Property Care Service Works</h2>
    <p>We currently specialize in reliable snow removal services. Lawn maintenance and year-round property care services will be available soon as we continue to expand.</p>
  </div>
</div>

<!-- Services Modal -->
<div id="servicesModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('servicesModal')">&times;</span>
    <h2>Our Services</h2>
    <p>We offer a variety of packages to meet your needs:</p>
    ❄️ Snow Removal (Basic, Premium, VIP)
    <h3>Service Details</h3>
    <p><strong>Basic</strong><br>• Snow cleared within 24 hours<br>• Second clearing for snow > 2.5 cm<br>• 1 visit per 24h during heavy snow<br>• Reliable & cost-effective</p>
    <p><strong>Premium</strong><br>• Snow cleared within 12 hours<br>• First wave clearing during heavy snow<br>• 2 visits per 24h<br>• Faster access & convenience</p>
    <p><strong>VIP</strong><br>• Snow cleared within 6 hours<br>• Priority first wave clearing<br>• Up to 3 visits per 24h<br>• Fastest response & peace of mind</p>
  </div>
</div>

<!-- Contact Modal -->
<div id="contactModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('contactModal')">&times;</span>
    <h2>Contact Us</h2> 
    <p>Email: propertycareserviceworks@gmail.com<br>Phone: (639) 916-0667</p>
  </div>
</div>

<div class="welcome-box">
  <img src="https://i.postimg.cc/WzBpPj8y/wnt-1-Made-with-Poster-My-Wall.jpg" alt="Snow Removal Banner" class="welcome-image">
  <p style="font-size: 20px; color: #334155; max-width: 700px; margin: 0 auto;">We currently serve Briarwood, Lakeridge, and Rosewood in Saskatoon, Saskatchewan. Fill out our request form below to get started!</p>
</div>

<div class="container">
<form action="https://submify.vercel.app/propertycareserviceworks@gmail.com" method="POST">
  <label>Full Name:</label>
  <input type="text" name="name" required>

  <label>Email:</label>
  <input type="email" name="_replyto" required>

  <label>Address:</label>
  <input type="text" name="address" required>

  <label>Phone Number:</label>
  <input type="tel" name="phone" required>

  <h3>Location</h3>
  <select name="location" required>
    <option value="">Select your location</option>
    <option value="Rosewood">Rosewood</option>
    <option value="Briarwood">Briarwood</option>
    <option value="Lakeridge">Lakeridge</option>
  </select>
  <input type="hidden" name="locationField" id="locationField">

  <h3>House Info</h3>
  <label><input type="radio" name="houseType" value="Lane House / Town House" required> Lane House / Town House</label>
  <label><input type="radio" name="houseType" value="Attached Garage"> Attached Garage</label>

  <h3>Service Type</h3>
  <label><input type="radio" name="serviceType" value="Basic" required> Basic</label>
  <label><input type="radio" name="serviceType" value="Premium"> Premium</label>
  <label><input type="radio" name="serviceType" value="V.I.P"> V.I.P</label>

  <h3>Service Frequency</h3>
  <label><input type="radio" name="serviceFrequency" value="Monthly Plan" required> Seasonal Term - Monthly Payment</label>
  <label><input type="radio" name="serviceFrequency" value="Single / Day Only"> Single / Day Only</label>

  <h3>Driveway Spaces</h3>
  <select id="driveway" name="driveway" required>
    <option value="">Select</option>
    <option value="0">0</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
  </select>

  <h3>Additional Areas</h3>
  <label>Front Walks & Steps: <input type="radio" name="front_walks" value="Yes" required> Yes <input type="radio" name="front_walks" value="No"> No</label>
  <label>Deck / Patio: <input type="radio" name="deck_patio" value="Yes" required> Yes <input type="radio" name="deck_patio" value="No"> No</label>
  <label>Corner Sidewalk: <input type="radio" name="corner_sidewalk" value="Yes" required> Yes <input type="radio" name="corner_sidewalk" value="No"> No</label>
  <label>Side Path / Basement Access: <input type="radio" name="side_path" value="Yes" required> Yes <input type="radio" name="side_path" value="No"> No</label>

  <h3>Additional Notes</h3>
  <textarea name="notes" rows="4" placeholder="Enter any notes here..."></textarea>

  <h3>Price Details</h3>
  <div id="priceDisplay">Select House Type, Service Type, and Frequency to see price.</div>
  <div id="serviceDetailsDisplay"></div>

  <input type="hidden" name="houseServiceFee" id="houseServiceFee">
  <input type="hidden" name="drivewayFee" id="drivewayFee">
  <input type="hidden" name="cornerSidewalkFee" id="cornerSidewalkFee">
  <input type="hidden" name="sidePathFee" id="sidePathFee">
  <input type="hidden" name="totalPrice" id="totalPrice">
  <input type="hidden" name="serviceDetails" id="serviceDetails">

  <input type="hidden" name="_subject" value="Service Request Submission">
  <input type="hidden" name="_autoresponse" value="Thank you for choosing our service! We will contact you shortly.">
  <input type="hidden" name="_template" value="table">
  <input type="hidden" name="_captcha" value="true">
  <input type="hidden" name="_next" value="https://web3forms.com/success">

  <button type="submit">Confirm Request</button>
</form>
</div>

<script>
function toggleMenu() { document.getElementById('menu').classList.toggle('show'); }
function openModal(id) { document.getElementById(id).style.display='block'; document.getElementById('menu').classList.remove('show'); }
function closeModal(id) { document.getElementById(id).style.display='none'; }
window.onclick = function(event) {
  ['aboutModal','servicesModal','contactModal'].forEach(id=>{
    const modal=document.getElementById(id);
    if(event.target===modal){modal.style.display="none";}
  });
}

// Pricing & Service Details
const prices={ "Lane House / Town House": {"Basic":120,"Premium":150,"V.I.P":180},"Attached Garage":{"Basic":150,"Premium":180,"V.I.P":210}};
const serviceDescriptions={ "Basic":["Snow cleared within 24h","Second clearing for snow > 2.5 cm","1 visit per 24h during heavy snow","Reliable & cost-effective"], "Premium":["Snow cleared within 12h","First wave clearing during heavy snow","2 visits per 24h","Faster access & convenience"], "V.I.P":["Snow cleared within 6h","Priority first wave clearing","Up to 3 visits per 24h","Fastest response & peace of mind"]};

const houseRadios=document.querySelectorAll('input[name="houseType"]');
const serviceRadios=document.querySelectorAll('input[name="serviceType"]');
const frequencyRadios=document.querySelectorAll('input[name="serviceFrequency"]');
const drivewaySelect=document.getElementById('driveway');
const cornerSidewalkRadios=document.querySelectorAll('input[name="corner_sidewalk"]');
const sidePathRadios=document.querySelectorAll('input[name="side_path"]');
const priceDisplay=document.getElementById('priceDisplay');
const serviceDetailsDisplay=document.getElementById('serviceDetailsDisplay');

const houseServiceFeeField=document.getElementById('houseServiceFee');
const drivewayFeeField=document.getElementById('drivewayFee');
const cornerSidewalkFeeField=document.getElementById('cornerSidewalkFee');
const sidePathFeeField=document.getElementById('sidePathFee');
const totalPriceField=document.getElementById('totalPrice');
const serviceDetailsField=document.getElementById('serviceDetails');

const locationSelect=document.querySelector('select[name="location"]');
const locationField=document.getElementById('locationField');
locationSelect.addEventListener('change',()=>{locationField.value=locationSelect.value;});

function getSelectedValue(radioNodeList){const selected=document.querySelector(`input[name="${radioNodeList[0].name}"]:checked`);return selected?selected.value:null;}
[...houseRadios,...serviceRadios,...frequencyRadios].forEach(radio=>radio.addEventListener('change',updatePrice));
drivewaySelect.addEventListener('change',updatePrice);
[...cornerSidewalkRadios,...sidePathRadios].forEach(radio=>radio.addEventListener('change',updatePrice));

function updatePrice(){
  const house=getSelectedValue(houseRadios);
  const service=getSelectedValue(serviceRadios);
  const frequency=getSelectedValue(frequencyRadios);
  const driveway=parseInt(drivewaySelect.value)||0;
  const cornerSidewalk=getSelectedValue(cornerSidewalkRadios);
  const sidePath=getSelectedValue(sidePathRadios);
  if(!house||!service||!frequency){priceDisplay.innerHTML="Select House Type, Service Type, and Frequency to see price."; serviceDetailsDisplay.innerHTML=''; totalPriceField.value=''; serviceDetailsField.value=''; return;}
  
  let basePrice=prices[house][service];
  let total=basePrice;
  const fees=[{item:`${house} - ${service} Service`,price:basePrice}];
  
  let drivewayFeeText='';
  if(driveway>2){for(let i=3;i<=driveway;i++){fees.push({item:`Driveway Car ${i} Fee`,price:15}); total+=15; drivewayFeeText+=`Driveway Car ${i} Fee: $15\n`;}}
  
  let cornerSidewalkFee=(cornerSidewalk==="Yes")?30:0;
  if(cornerSidewalkFee>0) fees.push({item:"Corner Sidewalk",price:cornerSidewalkFee}); total+=cornerSidewalkFee;
  
  let sidePathFee=(sidePath==="Yes")?30:0;
  if(sidePathFee>0) fees.push({item:"Side Path",price:sidePathFee}); total+=sidePathFee;
  
  let frequencyMultiplier=(frequency==="Single / Day Only")?0.25:1;
  total=Math.round(total*frequencyMultiplier);
  fees.push({item:`Service Frequency: ${frequency}`,price:''});
  
  houseServiceFeeField.value=`${house} - ${service} Service: $${Math.round(basePrice*frequencyMultiplier)}`;
  drivewayFeeField.value=drivewayFeeText.trim();
  cornerSidewalkFeeField.value=cornerSidewalkFee>0?`Corner Sidewalk: $${cornerSidewalkFee*frequencyMultiplier}`:'';
  sidePathFeeField.value=sidePathFee>0?`Side Path: $${sidePathFee*frequencyMultiplier}`:'';
  totalPriceField.value=total;
  
  let tableHTML=`<table><tr><th>Item</th><th>Price ($)</th></tr>`;
  fees.forEach(fee=>{tableHTML+=`<tr><td>${fee.item}</td><td>${fee.price!==''?fee.price*frequencyMultiplier:''}</td></tr>`;});
  tableHTML+=`<tr><td><strong>Total</strong></td><td><strong>${total}</strong></td></tr></table>`;
  priceDisplay.innerHTML=tableHTML;
  
  let detailsHTML='', detailsText='';
  serviceDescriptions[service].forEach(item=>{detailsHTML+=`• ${item}<br>`; detailsText+=`• ${item}\n`;});
  serviceDetailsDisplay.innerHTML=detailsHTML;
  serviceDetailsField.value=detailsText;
}
</script>

</body>
</html>
